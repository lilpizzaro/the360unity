(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{3798:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(8711),i=a(2115),n=a(6874),r=a.n(n),l=a(5095),c=a(5387);let d=[{id:"all",name:"All Topics",icon:(0,s.Y)(c.yw,{size:20,className:"text-white/80"}),count:0},{id:"react",name:"React",icon:(0,s.Y)(c.vR,{size:20,className:"text-cyan"}),count:0},{id:"nextjs",name:"Next.js",icon:(0,s.Y)(c._r,{size:20,className:"text-white/80"}),count:0},{id:"typescript",name:"TypeScript",icon:(0,s.Y)(c.$0,{size:20,className:"text-cyan"}),count:0},{id:"nodejs",name:"Node.js",icon:(0,s.Y)(c.bY,{size:20,className:"text-green-400"}),count:0},{id:"devops",name:"DevOps",icon:(0,s.Y)(c.nf,{size:20,className:"text-orange-400"}),count:0},{id:"career",name:"Career",icon:(0,s.Y)(c._d,{size:20,className:"text-purple-400"}),count:0},{id:"general",name:"General",icon:(0,s.Y)(c.sZ,{size:20,className:"text-white/80"}),count:0}];function o(){let[e,t]=(0,i.useState)("all"),[a,n]=(0,i.useState)(""),[o,m]=(0,i.useState)([]),[h,u]=(0,i.useState)(!0),[p,x]=(0,i.useState)(null),[b,g]=(0,i.useState)({});(0,i.useEffect)(()=>{(async()=>{u(!0),x(null);try{let t=new URL("/api/forum",window.location.origin);"all"!==e&&t.searchParams.append("category",e),a&&t.searchParams.append("search",a);let s=await fetch(t);if(!s.ok)throw Error("Failed to fetch discussions");let i=await s.json();m(i);let n={all:i.length};i.forEach(e=>{n[e.category]=(n[e.category]||0)+1}),g(n)}catch(e){console.error("Error fetching discussions:",e),x("Failed to load discussions. Please try again.")}finally{u(!1)}})()},[e,a]);let f=e=>{let t=new Date(e),a=Math.floor((new Date().getTime()-t.getTime())/1e3);return a<60?"just now":a<3600?"".concat(Math.floor(a/60)," minutes ago"):a<86400?"".concat(Math.floor(a/3600)," hours ago"):"".concat(Math.floor(a/86400)," days ago")},N=[...o].sort((e,t)=>e.pinned&&!t.pinned?-1:!e.pinned&&t.pinned?1:new Date(t.lastActivity).getTime()-new Date(e.lastActivity).getTime());return(0,s.FD)(s.FK,{children:[(0,s.Y)(l.default,{}),(0,s.Y)("div",{className:"min-h-screen pt-20 px-6",children:(0,s.FD)("div",{className:"max-w-7xl mx-auto",children:[(0,s.FD)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-8",children:[(0,s.FD)("div",{children:[(0,s.Y)("h1",{className:"t-heading-lg mb-4",children:"Community Forum"}),(0,s.Y)("p",{className:"t-lg opacity-80",children:"Connect, learn, and share knowledge with fellow developers"})]}),(0,s.FD)(r(),{href:"/forum/new",className:"btn-primary text-base px-6 py-3 mt-4 md:mt-0 flex items-center gap-2",children:[(0,s.Y)(c.PB,{size:18}),"Start Discussion"]})]}),(0,s.FD)("div",{className:"grid lg:grid-cols-4 gap-8",children:[(0,s.Y)("div",{className:"lg:col-span-1",children:(0,s.FD)("div",{className:"bg-white/5 rounded-2xl p-6 backdrop-blur-sm border border-white/10 sticky top-24",children:[(0,s.Y)("h3",{className:"t-heading-sm mb-6",children:"Categories"}),(0,s.Y)("div",{className:"space-y-2",children:d.map(a=>(0,s.Y)("button",{onClick:()=>t(a.id),className:"w-full text-left p-3 rounded-xl transition-all duration-200 ".concat(e===a.id?"bg-cyan/20 border-cyan/50 text-cyan border":"hover:bg-white/5"),children:(0,s.FD)("div",{className:"flex items-center justify-between",children:[(0,s.FD)("div",{className:"flex items-center",children:[(0,s.Y)("span",{className:"text-lg mr-3",children:a.icon}),(0,s.Y)("span",{className:"font-medium",children:a.name})]}),(0,s.Y)("span",{className:"text-sm opacity-70",children:b[a.id]||0})]})},a.id))}),(0,s.FD)("div",{className:"mt-8 pt-6 border-t border-white/10",children:[(0,s.Y)("h4",{className:"font-semibold mb-4",children:"Forum Stats"}),(0,s.FD)("div",{className:"space-y-3 text-sm",children:[(0,s.FD)("div",{className:"flex justify-between",children:[(0,s.Y)("span",{className:"opacity-70",children:"Total Threads"}),(0,s.Y)("span",{children:b.all||0})]}),(0,s.FD)("div",{className:"flex justify-between",children:[(0,s.Y)("span",{className:"opacity-70",children:"Total Posts"}),(0,s.Y)("span",{children:o.reduce((e,t)=>e+(t.replies||0),o.length)})]}),(0,s.FD)("div",{className:"flex justify-between",children:[(0,s.Y)("span",{className:"opacity-70",children:"Active Users"}),(0,s.Y)("span",{children:new Set(o.filter(e=>e.author).map(e=>e.author.id)).size})]})]})]})]})}),(0,s.FD)("div",{className:"lg:col-span-3",children:[(0,s.FD)("div",{className:"relative mb-6",children:[(0,s.Y)("input",{type:"text",placeholder:"Search discussions, authors, or tags...",value:a,onChange:e=>n(e.target.value),className:"w-full px-6 py-4 bg-white/5 border border-white/20 rounded-2xl backdrop-blur-sm text-white placeholder-white/50 focus:outline-none focus:border-cyan/50 focus:ring-2 focus:ring-cyan/20"}),(0,s.Y)("div",{className:"absolute right-4 top-4 text-white/50",children:(0,s.FD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.Y)("circle",{cx:"11",cy:"11",r:"8"}),(0,s.Y)("path",{d:"m21 21-4.3-4.3"})]})})]}),h?(0,s.Y)("div",{className:"flex justify-center items-center py-12",children:(0,s.Y)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan"})}):p?(0,s.FD)("div",{className:"mb-6 p-6 bg-red-500/20 border border-red-500/50 rounded-lg text-red-300 text-center",children:[(0,s.Y)("p",{className:"mb-4",children:p}),(0,s.Y)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-500/30 hover:bg-red-500/40 rounded-lg transition-colors",children:"Try Again"})]}):0===N.length?(0,s.FD)("div",{className:"py-12 text-center bg-white/5 rounded-2xl backdrop-blur-sm border border-white/10",children:[(0,s.Y)("div",{className:"mb-4 inline-block p-3 bg-white/10 rounded-full",children:(0,s.Y)(c.PB,{size:32,className:"text-white/40"})}),(0,s.Y)("h3",{className:"t-heading-sm mb-2",children:"No discussions found"}),(0,s.Y)("p",{className:"text-white/60 max-w-md mx-auto mb-6",children:"all"!==e||a?"Try adjusting your filters or search query.":"Be the first to start a discussion in our community!"}),(0,s.Y)(r(),{href:"/forum/new",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-500 to-cyan-500 rounded-lg text-white font-medium hover:opacity-90 transition-opacity",children:"Start Discussion"})]}):(0,s.Y)("div",{className:"space-y-4",children:N.map(e=>(0,s.Y)(r(),{href:"/forum/".concat(e.id),className:"block bg-white/5 rounded-2xl p-6 backdrop-blur-sm border border-white/10 hover:bg-white/10 transition-all duration-300",children:(0,s.FD)("div",{className:"flex items-start justify-between",children:[(0,s.FD)("div",{className:"flex-1",children:[(0,s.FD)("div",{className:"flex items-center mb-2",children:[(0,s.Y)("span",{className:"text-sm bg-white/10 px-2 py-1 rounded-full mr-2",children:e.categoryName}),e.pinned&&(0,s.Y)("span",{className:"text-xs bg-cyan/20 text-cyan px-2 py-1 rounded-full mr-2",children:"Pinned"}),e.solved&&(0,s.Y)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded-full",children:"Solved"})]}),(0,s.Y)("h3",{className:"t-heading-sm mb-2",children:e.title}),(0,s.Y)("div",{className:"flex flex-wrap gap-2 mb-4",children:e.tags.map(e=>(0,s.FD)("span",{className:"text-xs px-2 py-1 bg-white/10 rounded-full text-white/80",children:["#",e]},e))}),(0,s.FD)("div",{className:"text-sm opacity-70",children:["Started by ",(0,s.Y)("span",{className:"text-cyan",children:e.author.name})," • Last reply by"," ",(0,s.Y)("span",{className:"text-cyan",children:e.lastAuthor})," • ",f(e.lastActivity)]})]}),(0,s.FD)("div",{className:"text-right text-sm opacity-70 ml-4",children:[(0,s.FD)("div",{children:[e.replies," replies"]}),(0,s.FD)("div",{children:[e.views," views"]})]})]})},e.id))}),!h&&!p&&N.length>0&&(0,s.Y)("div",{className:"flex justify-center mt-8",children:(0,s.FD)("div",{className:"flex space-x-2",children:[(0,s.Y)("button",{className:"px-4 py-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:"Previous"}),(0,s.Y)("button",{className:"px-4 py-2 bg-cyan/20 text-cyan rounded-lg",children:"1"}),(0,s.Y)("button",{className:"px-4 py-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors",children:"Next"})]})})]})]})]})})]})}},5695:(e,t,a)=>{"use strict";var s=a(8999);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},8724:(e,t,a)=>{Promise.resolve().then(a.bind(a,3798))}},e=>{var t=t=>e(e.s=t);e.O(0,[788,674,874,95,441,684,358],()=>t(8724)),_N_E=e.O()}]);
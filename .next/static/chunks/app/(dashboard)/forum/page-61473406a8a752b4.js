(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9156],{3798:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(8711),l=a(2115),n=a(6874),i=a.n(n),r=a(5095),d=a(5387);let c=[{id:"all",name:"All Topics",icon:(0,s.Y)(d.yw,{size:20,className:"text-white/80"}),count:0},{id:"react",name:"React",icon:(0,s.Y)(d.vR,{size:20,className:"text-cyan"}),count:0},{id:"nextjs",name:"Next.js",icon:(0,s.Y)(d._r,{size:20,className:"text-white/80"}),count:0},{id:"typescript",name:"TypeScript",icon:(0,s.Y)(d.$0,{size:20,className:"text-cyan"}),count:0},{id:"nodejs",name:"Node.js",icon:(0,s.Y)(d.bY,{size:20,className:"text-green-400"}),count:0},{id:"devops",name:"DevOps",icon:(0,s.Y)(d.nf,{size:20,className:"text-orange-400"}),count:0},{id:"career",name:"Career",icon:(0,s.Y)(d._d,{size:20,className:"text-purple-400"}),count:0},{id:"general",name:"General",icon:(0,s.Y)(d.sZ,{size:20,className:"text-white/80"}),count:0}];function o(){var e;let[t,a]=(0,l.useState)("all"),[n,o]=(0,l.useState)(""),[m,h]=(0,l.useState)([]),[u,p]=(0,l.useState)(!0),[x,f]=(0,l.useState)(null),[b,w]=(0,l.useState)({});(0,l.useEffect)(()=>{(async()=>{p(!0),f(null);try{let e=new URL("/api/forum",window.location.origin);"all"!==t&&e.searchParams.append("category",t),n&&e.searchParams.append("search",n);let a=await fetch(e);if(!a.ok)throw Error("Failed to fetch discussions");let s=await a.json();h(s);let l={all:s.length};s.forEach(e=>{l[e.category]=(l[e.category]||0)+1}),w(l)}catch(e){console.error("Error fetching discussions:",e),f("Failed to load discussions. Please try again.")}finally{p(!1)}})()},[t,n]);let g=e=>{let t=new Date(e),a=Math.floor((new Date().getTime()-t.getTime())/1e3);return a<60?"just now":a<3600?"".concat(Math.floor(a/60)," minutes ago"):a<86400?"".concat(Math.floor(a/3600)," hours ago"):"".concat(Math.floor(a/86400)," days ago")},N=[...m].sort((e,t)=>e.pinned&&!t.pinned?-1:!e.pinned&&t.pinned?1:new Date(t.lastActivity).getTime()-new Date(e.lastActivity).getTime());return(0,s.FD)(s.FK,{children:[(0,s.Y)(r.default,{}),(0,s.Y)("div",{className:"min-h-screen pt-20 px-4 md:px-6 pb-20 md:pb-0",children:(0,s.FD)("div",{className:"max-w-7xl mx-auto",children:[(0,s.FD)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 md:mb-8",children:[(0,s.FD)("div",{children:[(0,s.Y)("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Community Forum"}),(0,s.Y)("p",{className:"text-sm md:text-base text-white/70",children:"Connect, learn, and share knowledge with fellow developers"})]}),(0,s.FD)(i(),{href:"/forum/new",className:"btn-primary text-sm md:text-base px-4 py-2 md:px-6 md:py-3 mt-4 md:mt-0 flex items-center justify-center gap-2 rounded-full shadow-lg",children:[(0,s.Y)(d.PB,{size:18}),"Start Discussion"]})]}),(0,s.Y)("div",{className:"md:hidden mb-4 overflow-x-auto mobile-scroll pb-2",children:(0,s.Y)("div",{className:"flex space-x-2 min-w-max",children:c.map(e=>(0,s.FD)("button",{onClick:()=>a(e.id),className:"flex items-center space-x-2 p-2 rounded-full whitespace-nowrap ".concat(t===e.id?"bg-cyan/20 border-cyan/50 text-cyan border":"bg-white/5 border border-white/10"),children:[(0,s.Y)("span",{className:"text-lg",children:e.icon}),(0,s.Y)("span",{className:"text-sm font-medium",children:e.name}),(0,s.Y)("span",{className:"text-xs opacity-70 bg-white/10 px-1.5 py-0.5 rounded-full",children:b[e.id]||0})]},e.id))})}),(0,s.FD)("div",{className:"grid lg:grid-cols-4 gap-4 md:gap-8",children:[(0,s.Y)("div",{className:"hidden md:block lg:col-span-1",children:(0,s.FD)("div",{className:"bg-gradient-to-br from-white/5 to-white/10 rounded-xl md:rounded-2xl p-4 md:p-6 backdrop-blur-sm border border-white/10 sticky top-24 shadow-lg",children:[(0,s.Y)("h3",{className:"text-lg font-bold mb-4",children:"Categories"}),(0,s.Y)("div",{className:"space-y-2",children:c.map(e=>(0,s.Y)("button",{onClick:()=>a(e.id),className:"w-full text-left p-3 rounded-xl transition-all duration-200 ".concat(t===e.id?"bg-cyan/20 border-cyan/50 text-cyan border":"hover:bg-white/5"),children:(0,s.FD)("div",{className:"flex items-center justify-between",children:[(0,s.FD)("div",{className:"flex items-center",children:[(0,s.Y)("span",{className:"text-lg mr-3",children:e.icon}),(0,s.Y)("span",{className:"font-medium",children:e.name})]}),(0,s.Y)("span",{className:"text-sm opacity-70",children:b[e.id]||0})]})},e.id))}),(0,s.FD)("div",{className:"mt-6 pt-6 border-t border-white/10",children:[(0,s.Y)("h4",{className:"font-semibold mb-4",children:"Forum Stats"}),(0,s.FD)("div",{className:"space-y-3 text-sm",children:[(0,s.FD)("div",{className:"flex justify-between",children:[(0,s.Y)("span",{className:"opacity-70",children:"Total Threads"}),(0,s.Y)("span",{children:b.all||0})]}),(0,s.FD)("div",{className:"flex justify-between",children:[(0,s.Y)("span",{className:"opacity-70",children:"Total Posts"}),(0,s.Y)("span",{children:m.reduce((e,t)=>e+(t.replies||0),m.length)})]}),(0,s.FD)("div",{className:"flex justify-between",children:[(0,s.Y)("span",{className:"opacity-70",children:"Active Users"}),(0,s.Y)("span",{children:new Set(m.filter(e=>e.author).map(e=>e.author.id)).size})]})]})]})]})}),(0,s.FD)("div",{className:"lg:col-span-3 w-full overflow-hidden",children:[(0,s.FD)("div",{className:"relative mb-4 md:mb-6",children:[(0,s.Y)("input",{type:"text",placeholder:"Search discussions...",value:n,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 md:px-6 md:py-4 bg-white/5 border border-white/20 rounded-xl md:rounded-2xl backdrop-blur-sm text-white placeholder-white/50 focus:outline-none focus:border-cyan/50 focus:ring-2 focus:ring-cyan/20"}),(0,s.Y)("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-white/50",children:(0,s.FD)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.Y)("circle",{cx:"11",cy:"11",r:"8"}),(0,s.Y)("path",{d:"m21 21-4.3-4.3"})]})})]}),(0,s.Y)("div",{className:"md:hidden mb-4",children:(0,s.FD)("div",{className:"flex items-center justify-between",children:[(0,s.Y)("h3",{className:"text-lg font-bold",children:(null==(e=c.find(e=>e.id===t))?void 0:e.name)||"All Topics"}),(0,s.FD)("div",{className:"text-sm text-white/70",children:[b[t]||0," threads"]})]})}),u?(0,s.Y)("div",{className:"flex justify-center items-center py-12",children:(0,s.Y)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-cyan"})}):x?(0,s.FD)("div",{className:"mb-6 p-4 md:p-6 bg-red-500/20 border border-red-500/50 rounded-xl text-red-300 text-center",children:[(0,s.Y)("p",{className:"mb-4",children:x}),(0,s.Y)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-red-500/30 hover:bg-red-500/40 rounded-lg transition-colors",children:"Try Again"})]}):0===N.length?(0,s.FD)("div",{className:"py-8 md:py-12 text-center bg-gradient-to-br from-white/5 to-white/10 rounded-xl md:rounded-2xl backdrop-blur-sm border border-white/10 shadow-lg",children:[(0,s.Y)("div",{className:"mb-4 inline-block p-3 bg-white/10 rounded-full",children:(0,s.Y)(d.PB,{size:32,className:"text-white/40"})}),(0,s.Y)("h3",{className:"text-lg md:text-xl font-bold mb-2",children:"No discussions found"}),(0,s.Y)("p",{className:"text-white/60 max-w-md mx-auto mb-6 text-sm md:text-base",children:"all"!==t||n?"Try adjusting your filters or search query.":"Be the first to start a discussion in our community!"}),(0,s.Y)(i(),{href:"/forum/new",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-purple-500 to-cyan-500 rounded-full text-white font-medium hover:opacity-90 transition-opacity shadow-lg",children:"Start Discussion"})]}):(0,s.Y)("div",{className:"space-y-3 md:space-y-4 w-full",children:N.map(e=>(0,s.Y)(i(),{href:"/forum/".concat(e.id),className:"block bg-gradient-to-br from-white/5 to-white/10 rounded-xl md:rounded-2xl p-4 md:p-6 backdrop-blur-sm border border-white/10 hover:bg-white/10 transition-all duration-300 shadow-lg w-full",children:(0,s.FD)("div",{className:"flex items-start justify-between w-full",children:[(0,s.FD)("div",{className:"flex-1 min-w-0 pr-2",children:[(0,s.FD)("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[(0,s.Y)("span",{className:"text-xs bg-white/10 px-2 py-1 rounded-full",children:e.categoryName}),e.pinned&&(0,s.Y)("span",{className:"text-xs bg-cyan/20 text-cyan px-2 py-1 rounded-full",children:"Pinned"}),e.solved&&(0,s.Y)("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded-full",children:"Solved"})]}),(0,s.Y)("h3",{className:"font-bold text-base md:text-lg mb-2 truncate",children:e.title}),(0,s.FD)("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.tags.slice(0,3).map(e=>(0,s.FD)("span",{className:"text-xs px-2 py-0.5 bg-white/10 rounded-full text-white/80",children:["#",e]},e)),e.tags.length>3&&(0,s.FD)("span",{className:"text-xs px-2 py-0.5 bg-white/10 rounded-full text-white/80",children:["+",e.tags.length-3]})]}),(0,s.FD)("div",{className:"text-xs md:text-sm text-white/70",children:["By ",(0,s.Y)("span",{className:"text-cyan",children:e.author.name})," â€¢ Last reply ",g(e.lastActivity)]})]}),(0,s.FD)("div",{className:"text-right text-xs md:text-sm text-white/70 ml-3 flex flex-col items-end",children:[(0,s.FD)("div",{className:"flex items-center gap-1 mb-1",children:[(0,s.Y)(d.PB,{size:14}),(0,s.Y)("span",{children:e.replies})]}),(0,s.FD)("div",{className:"flex items-center gap-1",children:[(0,s.FD)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.Y)("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),(0,s.Y)("circle",{cx:"12",cy:"12",r:"3"})]}),(0,s.Y)("span",{children:e.views})]})]})]})},e.id))}),!u&&!x&&N.length>0&&(0,s.Y)("div",{className:"flex justify-center mt-6 md:mt-8",children:(0,s.FD)("div",{className:"flex space-x-2",children:[(0,s.Y)("button",{className:"px-4 py-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:"Previous"}),(0,s.Y)("button",{className:"px-4 py-2 bg-cyan/20 text-cyan rounded-full",children:"1"}),(0,s.Y)("button",{className:"px-4 py-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:"Next"})]})})]})]})]})})]})}},5695:(e,t,a)=>{"use strict";var s=a(8999);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},8724:(e,t,a)=>{Promise.resolve().then(a.bind(a,3798))}},e=>{var t=t=>e(e.s=t);e.O(0,[4788,6874,8711,4085,8441,1684,7358],()=>t(8724)),_N_E=e.O()}]);
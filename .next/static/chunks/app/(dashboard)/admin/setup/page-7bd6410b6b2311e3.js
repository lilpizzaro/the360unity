(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[344],{3706:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>i});var s=a(8711),l=a(2115),t=a(5095);function i(){let[e,r]=(0,l.useState)(!1),[a,i]=(0,l.useState)(null),[n,o]=(0,l.useState)(null),[c,d]=(0,l.useState)(null),u=async()=>{r(!0),i(null),o(null),d(null);try{let e=await fetch("/api/setup-collab"),r=await e.json();d(r),r.success?o(r.message):i(r.message||"Unknown error occurred")}catch(e){console.error("Error setting up collaboration:",e),i("Error setting up collaboration. Check console for details.")}finally{r(!1)}};return(0,s.FD)(s.FK,{children:[(0,s.Y)(t.default,{}),(0,s.Y)("div",{className:"min-h-screen pt-24 px-6",children:(0,s.FD)("div",{className:"max-w-4xl mx-auto",children:[(0,s.FD)("div",{className:"mb-8",children:[(0,s.Y)("h1",{className:"t-heading-lg mb-4",children:"Admin Setup"}),(0,s.Y)("p",{className:"t-lg opacity-80",children:"Use this page to set up your Supabase database for real-time collaboration."})]}),(0,s.FD)("div",{className:"bg-white/5 rounded-2xl p-6 backdrop-blur-sm border border-white/10 mb-8",children:[(0,s.Y)("h2",{className:"t-heading-md mb-4",children:"Collaboration Setup"}),(0,s.Y)("p",{className:"mb-6 opacity-80",children:"This will create the necessary tables in your Supabase database for real-time code collaboration. Click the button below to run the setup."}),(0,s.FD)("div",{className:"space-y-4",children:[(0,s.Y)("button",{onClick:u,disabled:e,className:"btn-primary px-4 py-2",children:e?"Setting Up...":"Setup Collaboration Tables"}),a&&(0,s.FD)("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4 text-red-300",children:[(0,s.Y)("h3",{className:"font-medium mb-2",children:"Error"}),(0,s.Y)("p",{children:a})]}),n&&(0,s.FD)("div",{className:"bg-green-500/20 border border-green-500/50 rounded-lg p-4 text-green-300",children:[(0,s.Y)("h3",{className:"font-medium mb-2",children:"Success"}),(0,s.Y)("p",{children:n}),(0,s.FD)("p",{className:"mt-2",children:["Try the demo room:"," ",(0,s.Y)("code",{className:"bg-white/10 px-2 py-1 rounded",children:"room-demo123"})]})]}),c&&(0,s.FD)("div",{className:"mt-4",children:[(0,s.Y)("h3",{className:"font-medium mb-2",children:"Response Details"}),(0,s.Y)("pre",{className:"bg-black/30 p-4 rounded-lg overflow-x-auto text-xs",children:JSON.stringify(c,null,2)})]})]})]}),(0,s.FD)("div",{className:"bg-white/5 rounded-2xl p-6 backdrop-blur-sm border border-white/10",children:[(0,s.Y)("h2",{className:"t-heading-md mb-4",children:"Troubleshooting"}),(0,s.Y)("p",{className:"mb-4 opacity-80",children:"If you're having issues with the setup, try the following:"}),(0,s.FD)("ul",{className:"list-disc list-inside space-y-2 opacity-80",children:[(0,s.Y)("li",{children:"Check that your Supabase URL and API key are correct in your .env.local file"}),(0,s.Y)("li",{children:"Make sure your Supabase service role key has permission to create tables"}),(0,s.Y)("li",{children:"Try running the SQL commands directly in the Supabase SQL Editor"}),(0,s.Y)("li",{children:"Check the browser console for detailed error messages"}),(0,s.Y)("li",{children:"Restart your development server after setup"})]})]})]})})]})}},5695:(e,r,a)=>{"use strict";var s=a(8999);a.o(s,"useParams")&&a.d(r,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(r,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}})},5751:(e,r,a)=>{Promise.resolve().then(a.bind(a,3706))}},e=>{var r=r=>e(e.s=r);e.O(0,[788,674,874,95,441,684,358],()=>r(5751)),_N_E=e.O()}]);